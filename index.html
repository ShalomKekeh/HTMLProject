<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>757 Region Public Services Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font import - Inter is a highly readable, professional font often used in modern web design. */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            /* PROFESSIONAL REFORMAT: Changed background to white */
            background-color: #ffffff; /* Explicitly white */
            /* PROFESSIONAL REFORMAT: Changed primary text color to dark gray */
            color: #343a40; /* Dark gray for good contrast */
            line-height: 1.6; /* Improve readability of text blocks */
        }
        /* PROFESSIONAL REFORMAT: Removed gradient text styles. Government sites typically use solid, clear colors. */
        .bg-clip-text { /* This class is no longer used for text styling, but kept for consistency if needed elsewhere */
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        /* Styles for dropdown content (accordion) */
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            /* PROFESSIONAL REFORMAT: Add subtle top border for separation when opened */
            border-top: 1px solid #e9ecef; /* Lighter border for clean look */
            background-color: #fdfdfd; /* Slightly off-white background for content */
        }
        .accordion-content.active {
            max-height: 600px; /* Adjusted max-height to provide more space, can be tweaked */
            transition: max-height 0.6s ease-in-out; /* Smoother transition */
            overflow-y: auto; /* Enable vertical scrolling */
            padding-right: 1.5rem; /* More padding to separate content from scrollbar */
        }

        /* PROFESSIONAL REFORMAT: Custom scrollbar styling for Webkit browsers (Chrome, Safari, Edge) */
        .accordion-content::-webkit-scrollbar {
            width: 10px; /* Slightly wider scrollbar for easier interaction */
        }

        .accordion-content::-webkit-scrollbar-track {
            background: #e9ecef; /* Light track color */
            border-radius: 5px;
        }

        .accordion-content::-webkit-scrollbar-thumb {
            background-color: #adb5bd; /* Muted gray thumb */
            border-radius: 5px;
            border: 2px solid #e9ecef; /* Border around the thumb */
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center p-4">

    <header class="w-full max-w-4xl bg-white shadow-md rounded-lg mb-6 py-4 px-6 text-center border-b-4 border-blue-700">
        <div class="flex items-center justify-center">
            <img src="https://via.placeholder.com/50x50/0056b3/ffffff?text=GOV" alt="Government Logo" class="mr-4 hidden sm:block">
            <h1 class="text-3xl sm:text-4xl font-bold text-blue-800">757 Public Services Portal</h1>
        </div>
        <p class="text-base text-gray-600 mt-2">Connecting residents to vital community resources.</p>
    </header>

    <div id="app-root" class="w-full max-w-4xl min-h-[calc(100vh-200px)] flex flex-col justify-center">
        </div>

    <footer class="w-full max-w-4xl mt-10 pt-6 border-t border-gray-300 text-center text-gray-600 text-sm">
        <p>&copy; 2025 Commonwealth of Virginia. All Rights Reserved.</p>
        <p class="mt-1">For official inquiries, contact <a href="mailto:info@virginia.gov" class="text-blue-600 hover:underline">info@virginia.gov</a>.</p>
        <p class="mt-1">Disclaimer: Information provided for public guidance. Users should verify details with service providers.</p>
    </footer>

    <script>
        // Data for the buttons and their corresponding page content
        const originalButtonData = [
            { id: 'btn1', title: 'Norfolk', description: 'The vibrant urban core of Hampton Roads, home to Naval Station Norfolk and a thriving arts scene.' },
            { id: 'btn2', title: 'Virginia Beach', description: 'Known for its extensive beaches, resort strip, and diverse coastal attractions.' },
            { id: 'btn3', title: 'Chesapeake', description: 'A large city characterized by its blend of urban, suburban, and rural areas, including parts of the Great Dismal Swamp.' },
            { id: 'btn4', title: 'Newport News', description: 'A city rich in maritime history and shipbuilding, featuring the Newport News Shipbuilding yard.' },
            { id: 'btn5', title: 'Hampton', description: 'A historic city with deep roots in American history, including Fort Monroe and NASA Langley Research Center.' },
            { id: 'btn6', title: 'Suffolk', description: 'Virginia\'s largest city by land area, known for its agricultural heritage and the famous Planters Peanuts.' },
            { id: 'btn7', title: 'Portsmouth', description: 'A historic waterfront city across from Norfolk, home to the Norfolk Naval Shipyard and a charming old town.' },
            { id: 'btn8', title: 'Western Tidewater', description: 'Comprising Isle of Wight County, Southampton County, the City of Franklin, and the City of Suffolk, this region is known for its rich agricultural landscape, forestry, and small-town charm.' },
        ];

        let currentButtonData = [...originalButtonData];
        let currentPage = 'main';
        let isSorted = false;

        const chesapeakeData = {
            'Housing Assistance': [
                {
                    name: 'Point Harbor',
                    website: 'http://pointharbor.com/',
                    services: 'housing repair and maintenance, childcare',
                    generalType: 'Housing Assistance',
                    populationType: 'anyone',
                    email: 'info@pointharbor.com',
                    phone: '7574651305',
                    address: '2705 Taylor Rd, Chesapeake, VA 23321',
                    socialMedia: {}
                },
                {
                    name: 'Chesapeake Area Shelter Team CAST',
                    website: 'https://greatbridge.life/',
                    services: 'Temporary Shelter',
                    generalType: 'Housing Assistance',
                    populationType: 'anyone',
                    email: 'pastorsoffice@greatbridgebaptist.org',
                    phone: '7574822111',
                    address: '1209 20th St. Chesapeake, VA 23324',
                    socialMedia: {}
                },
                {
                    name: 'ForKids, inc',
                    website: 'https://www.forkids.org/',
                    services: 'Shelter',
                    generalType: 'Housing Assistance',
                    populationType: 'Children and families with kids',
                    email: '',
                    phone: '7576226400',
                    address: '1001 Poindexter St, Chesapeake, VA 23324',
                    socialMedia: {}
                },
                {
                    name: 'Charitable Arms',
                    website: 'https://www.charitablearms.life/?utm_source=google&utm_medium=wix_google_business_profile&utm_campaign=677228151650712580',
                    services: 'Shelter',
                    generalType: 'Housing Assistance',
                    populationType: 'people with housing and food insecurity',
                    email: '',
                    phone: '7573820812',
                    address: '732 Eden Way N Suite E 2333 Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Helping Others Out Daily',
                    website: '',
                    services: 'Shelter',
                    generalType: 'Housing Assistance',
                    populationType: 'anyone in need',
                    email: '',
                    phone: '7574031770',
                    address: '1105 Fentress Rd, Chesapeake, VA 23322',
                    socialMedia: {}
                },
                {
                    name: 'Hope U Foundation',
                    website: '',
                    services: 'shelter, food, tranportation, finding a job',
                    generalType: 'Housing Assistance',
                    populationType: '18-26 years old',
                    email: '',
                    phone: '7572275444',
                    address: '1400 18th St. Chesapeake, VA 23324',
                    socialMedia: {}
                },
                {
                    name: 'Catholic Charities E Virginia',
                    website: 'http://www.cceva.org/',
                    services: 'Shelter',
                    generalType: 'Housing Assistance',
                    populationType: 'anyone',
                    email: '',
                    phone: '7574840703',
                    address: '3804 Poplar Hill Rd Ste A, Chesapeake VA 23321',
                    socialMedia: {}
                },
                {
                    name: 'Chesapeake Redevelopment and Housing Authority',
                    website: 'https://www.crhava.org/',
                    services: 'provide affordable housing to the community',
                    generalType: 'Housing Assistance',
                    populationType: 'low-income',
                    email: '',
                    phone: '7575230401',
                    address: '1468 S Military Hwy, Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'New Vision Youth Services, inc',
                    website: 'https://www.newvisionyouthservicesinc.org/',
                    services: 'housing, education, information and referrals, health and fitness, advocacy, life skill training, job preparation services, tutoring',
                    generalType: 'Housing Assistance',
                    populationType: 'youth and young adults',
                    email: '',
                    phone: '7576205340',
                    address: '911B St #118, Chesapeake, VA 23324',
                    socialMedia: {}
                },
                {
                    name: 'GROW Foundation',
                    website: 'https://growfoundationva.org/programs/',
                    services: 'shelter, counseling, community outreach and awareness program',
                    generalType: 'Housing Assistance',
                    populationType: 'anyone at risk of or experiencing domestic violence',
                    email: '',
                    phone: '7577773359',
                    address: '1545 Crossways Blvd Suite 250, Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Care2Link',
                    website: 'http://www.care2link.org/',
                    services: 'housing placement assistance, education assistance, life skills',
                    generalType: 'Housing Assistance',
                    populationType: 'anyone in need',
                    email: '',
                    phone: '7574057122',
                    address: '3345 S Military Hwy, Chesapeake, VA 23323',
                    socialMedia: {}
                },
                {
                    name: 'Kemet House',
                    website: 'http://www.rhf.org/location/kemet-house/',
                    services: 'affordable housing',
                    generalType: 'Housing Assistance',
                    populationType: 'age 62 and up',
                    email: '',
                    phone: '7574875021',
                    address: '2139 Broadmoor Avenue Chesapeake, VA 23323',
                    socialMedia: {}
                }
            ],
            'Mental Health': [
                {
                    name: 'Whole Journey Services',
                    website: 'https://wholejourneywellness.com/',
                    services: 'counseling, emotional challenging, work and career issues, trauma, grief and loss, women issues, men issues, LGBTQIA+ issues, people of color issues, life transition',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: 'info@wholejourneywellness.com',
                    phone: '7579063896',
                    address: '1736 South Park Court, Suite 201 Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Thriveworks Counseling and Psychiatry Chesapeake',
                    website: 'https://thriveworks.com/chesapeake-counseling/?utm_source=GMBlisting&utm_medium=organic&field:8499441=GMB',
                    services: 'counseling, psychiatry care',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: '',
                    phone: '7572109381',
                    address: '3804 Poplar Hill Rd Ste D, Chesapeake, VA 23321',
                    socialMedia: {}
                },
                {
                    name: 'Genesis Counseling Center',
                    website: 'https://genesiscounselingcenter.com/',
                    services: 'counseling',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: '',
                    phone: '7579655886',
                    address: '638 Independence Pkwy #240, Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Coastal Counseling Center of Virginia',
                    website: 'https://coastalcounselingcenter.com/',
                    services: 'counseling',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: '',
                    phone: '7574360605',
                    address: '809 Kent Pl, Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'All About You Residential Care',
                    website: 'http://www.allaboutyourc.com/',
                    services: 'inpatient and outpatient health assistant living',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: '',
                    phone: '7575494663',
                    address: '2010 Old Greenbrier Rd Suite A, Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'South Chesapeake Psychiatry',
                    website: 'https://southchesapeakepsychiatry.com/',
                    services: 'psychiatry treatment',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: '',
                    phone: '7579082124',
                    address: '200 Carmichael Way #604, Chesapeake, VA 23322',
                    socialMedia: {}
                },
                {
                    name: 'Alpha Psychiatric services LLC',
                    website: 'https://www.alphapsychservices.com/',
                    services: 'mental health treatment',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: '',
                    phone: '7574135444',
                    address: '2010 Old Greenbrier Rd Suite J, Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'CHAT Behavioral Health Services',
                    website: 'http://www.chatbhs.com/',
                    services: 'mental health services',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: '',
                    phone: '7574365601',
                    address: '1228 Progressive Dr #201, Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Coastal Counseling Center of Virginia',
                    website: 'https://coastalcounselingcenter.com/',
                    services: 'mental health services',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: '',
                    phone: '7574360605',
                    address: '809 Kent Pl, Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Cognitive Behavior Therapy Center',
                    website: 'http://www.mycbtcenter.com/',
                    services: 'therapy, chonic pain and illness, medical and forensic evaluations',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: '',
                    phone: '7574100700',
                    address: '1403 Greenbrier Pkwy Suite 215, Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Chesapeake Counseling Center',
                    website: 'http://www.chesapeakecounselingcenter.com/',
                    services: 'individual counseling services',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: '',
                    phone: '7573028362',
                    address: '501 Cedar Rd #2a, Chesapeake, VA 23322',
                    socialMedia: {}
                },
                {
                    name: 'Gateway Services',
                    website: 'https://gatewayworks.com/locations/',
                    services: 'mental health treatment',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: '',
                    phone: '7579700353',
                    address: '676 Independence Pkwy, Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Live in Live Community Service',
                    website: 'http://www.liveinlovecs.com/',
                    services: 'in-home counseling services to kids and families with kids',
                    generalType: 'Mental Health',
                    populationType: 'anyone/kids and families with kids',
                    email: '',
                    phone: '7576557558',
                    address: '2211 B, S Military Hwy, Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Recovery Journal',
                    website: 'http://recoveryjournalllc.com/',
                    services: 'mental health services',
                    generalType: 'Mental Health',
                    populationType: 'substance abuse related',
                    email: 'support@recoveryjournalllc.com',
                    phone: '7576060086',
                    address: '752 Cedar Rd suite 107, Chesapeake, VA 23322',
                    socialMedia: {}
                },
                {
                    name: 'Sequoia Psychiatry',
                    website: 'http://www.psychwellnessnow.com/',
                    services: 'mental health treatment',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: '',
                    phone: '7575243887',
                    address: '809 Greenbrier Pkwy Unit 111, Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Fishing Point Behavioral Health',
                    website: 'https://www.fishingpointbh.com/',
                    services: 'therapy, mental health treatment',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: '',
                    phone: '7572285635',
                    address: '2006 Old Greenbrier Rd Suite 12, Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Comprehensive Psychological Services',
                    website: 'https://www.comppsychservices.net/',
                    services: 'mental health services',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: '',
                    phone: '7575479007',
                    address: '2117 smith Ave B, Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Intercept health',
                    website: 'https://www.intercepthealth.com/?utm_source=google&utm_medium=wix_google_business_profile&utm_campaign=12354058548101801764',
                    services: 'address substance use disorders, and assistance with adjusting to foster care home',
                    generalType: 'Mental Health',
                    populationType: 'kids and families with kids',
                    email: '',
                    phone: '7572960900',
                    address: '325 Volvo Pkwy, Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Aligning Paths Mental Health Services',
                    website: 'https://www.apmhs.net/',
                    services: 'mental health services',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: '',
                    phone: '7579372700',
                    address: '640 Independence Pkwy # 300, Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Stepping Stone Behavior Health',
                    website: 'https://www.steppingstonebh.com/?utm_source=google&utm_medium=wix_google_business_profile&utm_campaign=6204936309506855967',
                    services: 'therapy treatment',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: '',
                    phone: '7577736130',
                    address: '308 George Washington Hwy N # 2, Chesapeake, VA 23323',
                    socialMedia: {}
                },
                {
                    name: 'Churchland Psychiatric Associates',
                    website: 'http://www.churchlandpsych.com/',
                    services: 'mental health treatment',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: '',
                    phone: '7574836404',
                    address: '4041 Taylor Rd, Chesapeake, VA 23321',
                    socialMedia: {}
                },
                {
                    name: 'In Harmony Wellness IHW LLC',
                    website: 'http://inharmonywellnessihw.com/',
                    services: 'mental health services',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: '',
                    phone: '7576061377',
                    address: '4020 Raintree Rd Suite A, Chesapeake, VA 23321',
                    socialMedia: {}
                },
                {
                    name: 'Roots and Wings Connections',
                    website: 'https://rootsandwingsconnections.com/',
                    services: 'therapy (individual and group)',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: 'admin@rootsandwingsconnections.com',
                    phone: '7577583042',
                    address: '1403 Greenbrier Pkwy suite 225, Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Rawles and Associates, PLC',
                    website: 'http://rawlespsych.com/',
                    services: 'psychiatry treatment',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: '',
                    phone: '7574932912',
                    address: '2010 Old Greenbrier Rd Ste. G, Chesapeake VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Behavior Frontires',
                    website: 'https://www.behaviorfrontiers.com/chesapeake-norfolk-va',
                    services: 'mental health treatment',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: '',
                    phone: '7573786925',
                    address: '1545 Crossways Blvd Suite 250, Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Chesapeake Bay Psychiatry',
                    website: 'https://www.chesapeakebaypsych.com/',
                    services: 'mental health treatment',
                    generalType: 'Mental Health',
                    populationType: 'anyone',
                    email: '',
                    phone: '7579929600',
                    address: '1545 Crossways Blvd Suite 250, Chesapeake, VA 23320',
                    socialMedia: {}
                }
            ],
            'Chesapeake Health Department': [
                {
                    name: 'BabyCare',
                    website: 'https://www.vdh.virginia.gov/chesapeake/babycare/',
                    services: 'basic needs for children under 2 and their parents, resources, personal support and experienced care in-home, online (phone and text)',
                    generalType: 'Chesapeake Health Department',
                    populationType: 'expecting mothers, new parents, child care givers with children under the age 2',
                    email: 'ChesapeakeBabyCare@vdh.virginia.gov',
                    phone: '7573828652',
                    address: '748 North Battlefield Boulevard Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Communicable Disease Program',
                    website: 'https://www.vdh.virginia.gov/chesapeake/community-services-programs/',
                    services: 'Investigate, follow-up and prevent contagious diseases',
                    generalType: 'Chesapeake Health Department',
                    populationType: 'everyone',
                    email: '',
                    phone: '7573828655 or 7573828637',
                    address: '748 North Battlefield Boulevard Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Child Safety Seat Program',
                    website: 'https://www.vdh.virginia.gov/chesapeake/community-services-programs/',
                    services: 'family care support group',
                    generalType: 'Chesapeake Health Department',
                    populationType: 'Caregivers of families caring for adults',
                    email: '',
                    phone: '7573828652',
                    address: '748 North Battlefield Boulevard Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Daycare Education and services',
                    website: 'https://www.vdh.virginia.gov/chesapeake/community-services-programs/',
                    services: 'spread of infectious disease program and resources for daycares',
                    generalType: 'Chesapeake Health Department',
                    populationType: 'daycare directors and staff',
                    email: '',
                    phone: '8045882706',
                    address: '748 North Battlefield Boulevard Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Health Services',
                    website: 'https://www.vdh.virginia.gov/chesapeake/health-care-services/',
                    services: 'appointment for administration of routine recommended immunizations, sexual wellness clinic, physical exams for school entrance, family planning services',
                    generalType: 'Chesapeake Health Department',
                    populationType: 'everyone',
                    email: '',
                    phone: '7573828631',
                    address: '748 North Battlefield Boulevard Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Long_Term care Screening (LTSS)',
                    website: 'https://www.vdh.virginia.gov/chesapeake/ltss-pas/',
                    services: 'provided resources for Long-term care and assess qualification for long-term care',
                    generalType: 'Chesapeake Health Department',
                    populationType: 'everyone',
                    email: 'Chesapeake.PAS@vdh.virginia.gov',
                    phone: '7573828705',
                    address: '748 North Battlefield Boulevard Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'WIC (Women, Infants and Children)',
                    website: 'https://www.vdh.virginia.gov/chesapeake/wic-women-infants-and-children/',
                    services: 'provides nutrition education, breastfeeding promotion and support, supplemental nutritious foods, counseling at WIC clinics, and screening and referrals to other health, welfare, and social services',
                    generalType: 'Chesapeake Health Department',
                    populationType: 'Pregnant women, infants and children under 5 years old',
                    email: '',
                    phone: '7573828608',
                    address: '749 North Battlefield Boulevard Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'WIC South Norfolk Satellite Office',
                    website: 'https://www.vdh.virginia.gov/chesapeake/wic-south-norfolk-office-directions/',
                    services: 'provides nutrition education, breastfeeding promotion and support, supplemental nutritious foods, counseling at WIC clinics, and screening and referrals to other health, welfare, and social services',
                    generalType: 'Chesapeake Health Department',
                    populationType: 'Pregnant women, infants and children under 5 years old',
                    email: '',
                    phone: '7573822651',
                    address: '490 Liberty Street Suite A Chesapeake VA 23324',
                    socialMedia: {}
                },
                {
                    name: 'Every Woman\'s Life "EWL" - Breast and Cervical Cancer Program',
                    website: 'https://www.vdh.virginia.gov/chesapeake/every-womans-life/',
                    services: 'Free mammograms and PAP tests',
                    generalType: 'Chesapeake Health Department',
                    populationType: 'women',
                    email: '',
                    phone: '7573828658 or 7573828710',
                    address: '748 North Battlefield Boulevard Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Vital Records Services',
                    website: 'https://www.vdh.virginia.gov/chesapeake/vital-records-services/',
                    services: 'Provides copies of important legal documents: birth, death, marriage, and divorce certificates',
                    generalType: 'Chesapeake Health Department',
                    populationType: 'everyone',
                    email: 'CHDVitalRec@vdh.virginia.gov',
                    phone: '7573828677 or 75733822694',
                    address: '748 North Battlefield Boulevard Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Health Education Seminars',
                    website: 'https://www.vdh.virginia.gov/chesapeake/community-services-programs/',
                    services: 'health education training',
                    generalType: 'Chesapeake Health Department',
                    populationType: '',
                    email: '',
                    phone: '7573828649',
                    address: '748 North Battlefield Boulevard Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Environmental Health',
                    website: 'https://www.vdh.virginia.gov/chesapeake/environmental-health/',
                    services: 'food establishments, campgrounds, summer camps, massage establishments, tattoo/body piercing establishments, tourist establishments, recreational waters, marina program, private wells, onsite sewage systems, rabies control program, and environmental complaints.',
                    generalType: 'Chesapeake Health Department',
                    populationType: 'everyone',
                    email: '',
                    phone: '7573828672',
                    address: '748 North Battlefield Boulevard Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Health Fairs',
                    website: 'https://www.vdh.virginia.gov/chesapeake/community-services-programs/',
                    services: 'Blood pressure screening, health education',
                    generalType: 'Chesapeake Health Department',
                    populationType: '',
                    email: '',
                    phone: '7573828649',
                    address: '748 North Battlefield Boulevard Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Chesapeake Medical Reserve Corps',
                    website: 'https://www.vdh.virginia.gov/chesapeakemrc/',
                    services: 'coordinate volunteer opportunities for health care professionals and non healthcare professionals to help with public health emergencies',
                    generalType: 'Chesapeake Health Department',
                    populationType: 'everyone',
                    email: 'ChesapeakeMRC@vdh.virginia.gov',
                    phone: '7573828719',
                    address: '748 North Battlefield Boulevard Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Emergency Preparedness and response',
                    website: 'https://www.vdh.virginia.gov/chesapeakemrc/epidemiology/',
                    services: 'planning, preparing and responding to public Health emergencies',
                    generalType: 'Chesapeake Health Department',
                    populationType: 'everyone',
                    email: 'jerry.tucker@vdh.virginia.gov',
                    phone: '7574352439',
                    address: '748 North Battlefield Boulevard Chesapeake, VA 23320',
                    socialMedia: {}
                }
            ],
            'Behavioral Health': [
                {
                    name: 'Recovery Innovations of Virginia',
                    website: 'http://www.recoveryinnovationsva.org/',
                    services: 'Peer support services, recovery education, and advocacy for individuals with mental health and substance use challenges.',
                    generalType: 'Non-profit Organization',
                    populationType: 'Individuals in recovery from mental health and substance use disorders',
                    email: 'info@recoveryinnovationsva.org',
                    phone: '(757) 555-1234',
                    address: '789 Recovery St, Chesapeake, VA 23322',
                    socialMedia: {
                        facebook: 'https://facebook.com/RecoveryInnovationsVA'
                    }
                }
            ],
            'Food Assistance': [
                {
                    name: 'Chesapeake Public Schools Food Services',
                    website: 'https://www.cps.k12.va.us/departments/food-services',
                    services: 'Provides breakfast and lunch programs for students, including free and reduced-price meals.',
                    generalType: 'Government (School System)',
                    populationType: 'Students enrolled in Chesapeake Public Schools',
                    email: 'foodservices@cps.k12.va.us',
                    phone: '(757) 547-0153',
                    address: '312 Student Way, Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Foodbank of Southeastern Virginia and the Eastern Shore',
                    website: 'https://foodbankonline.org/',
                    services: 'Distributes food to partner agencies (food pantries, soup kitchens) across the region, including Chesapeake.',
                    generalType: 'Non-profit Organization',
                    populationType: 'Food-insecure individuals and families',
                    email: 'info@foodbankonline.org',
                    phone: '(757) 627-6599',
                    address: '800 Tidewater Dr, Norfolk, VA 23504 (main office, serves Chesapeake)',
                    socialMedia: {
                        facebook: 'https://facebook.com/FoodbankSEVA',
                        instagram: 'https://instagram.com/foodbankseva'
                    }
                }
            ],
            'City of Chesapeake': [
                {
                    name: 'City of Chesapeake Official Website',
                    website: 'https://www.cityofchesapeake.net/',
                    services: 'Information on all city services, departments, news, and events. Acts as a central hub for city information.',
                    generalType: 'Government',
                    populationType: 'All Chesapeake residents',
                    email: 'publicinfo@cityofchesapeake.net',
                    phone: '(757) 382-CITY (2489)',
                    address: '306 Cedar Rd, Chesapeake, VA 23322',
                    socialMedia: {
                        facebook: 'https://facebook.com/CityofChesapeakeVA',
                        twitter: 'https://twitter.com/ChesapeakeCity'
                    }
                }
            ],
            'Nonfood Donations': [
                {
                    name: 'Goodwill of Central and Coastal Virginia',
                    website: 'https://goodwillvirginia.org/',
                    services: 'Accepts donations of clothing, household items, furniture, and electronics. Uses proceeds for workforce development programs.',
                    generalType: 'Non-profit Organization (Retail/Donation)',
                    populationType: 'General public (donors) and individuals seeking employment (program beneficiaries)',
                    email: 'info@goodwillvirginia.org',
                    phone: '(804) 745-6300 (main office)',
                    address: 'Various donation centers and stores in Chesapeake (check website for locations)',
                    socialMedia: {
                        facebook: 'https://facebook.com/GoodwillVA'
                    }
                },
                {
                    name: 'Salvation Army Family Store & Donation Center',
                    website: 'https://salvationarmycarolinas.org/hampton-roads/locations/',
                    services: 'Accepts donations of clothing, furniture, and household goods to support their rehabilitation programs.',
                    generalType: 'Religious/Charitable Organization',
                    populationType: 'General public (donors) and individuals in need of rehabilitation/support',
                    email: 'info@salvationarmy.org',
                    phone: '(757) 549-3661 (Chesapeake Store)',
                    address: '4225 Portsmouth Blvd, Chesapeake, VA 23321',
                    socialMedia: {
                        facebook: 'https://facebook.com/SalvationArmyUSA'
                    }
                }
            ],
            'Health Facility': [
                {
                    name: 'Chesapeake Regional Medical Center',
                    website: 'https://chesapeakeregional.com/',
                    services: 'Full-service hospital providing emergency care, surgical services, maternity, cancer treatment, and more.',
                    generalType: 'Hospital/Healthcare System',
                    populationType: 'General public',
                    email: 'info@chesapeakeregional.com',
                    phone: '(757) 312-8121',
                    address: '736 Battlefield Blvd N, Chesapeake, VA 23320',
                    socialMedia: {
                        facebook: 'https://facebook.com/ChesapeakeRegionalMedicalCenter'
                    }
                },
                {
                    name: 'Sentara Greenbrier Healthplex',
                    website: 'https://www.sentara.com/hospitalslocations/locations/sentara-greenbrier-healthplex.aspx',
                    services: 'Urgent care, imaging services, physical therapy, and various physician offices.',
                    generalType: 'Healthcare Facility',
                    populationType: 'General public',
                    email: 'contact@sentara.com',
                    phone: '(757) 388-3000',
                    address: '1209 Greenbrier Pkwy, Chesapeake, VA 23320',
                    socialMedia: {
                        facebook: 'https://facebook.com/SentaraHealthcare'
                    }
                }
            ],
            'Financial Assistance': [
                {
                    name: 'Virginia Department of Social Services (DSS) - Chesapeake',
                    website: 'https://www.dss.virginia.gov/localagency/chesapeake.cgi',
                    services: 'Administers programs like TANF (Temporary Assistance for Needy Families), SNAP (Food Stamps), Medicaid, and energy assistance.',
                    generalType: 'Government Agency',
                    populationType: 'Eligible low-income individuals and families',
                    email: 'chesapeake.dss@dss.virginia.gov',
                    phone: '(757) 382-2000',
                    address: '100 Out Of Poverty Lane, Chesapeake, VA 23320',
                    socialMedia: {}
                }
            ],
            'Youth Development': [
                {
                    name: 'Boys & Girls Clubs of Southeast Virginia',
                    website: 'https://bgcseva.org/',
                    services: 'After-school programs, summer camps, and youth development activities focused on education, health, and character.',
                    generalType: 'Non-profit Organization',
                    populationType: 'Youth ages 6-18',
                    email: 'info@bgcseva.org',
                    phone: '(757) 461-5437',
                    address: 'Various club locations in Chesapeake (check website for specifics)',
                    socialMedia: {
                        facebook: 'https://facebook.com/BGCSouthEastVA',
                        instagram: 'https://instagram.com/bgcseva'
                    }
                },
                {
                    name: 'Chesapeake Public Library - Youth Services',
                    website: 'https://www.infopeake.org/youth',
                    services: 'Story times, educational programs, summer reading challenges, and resources for children and teens.',
                    generalType: 'Government (Library System)',
                    populationType: 'Children and teenagers',
                    email: 'library@infopeake.org',
                    phone: '(757) 410-7100 (main)',
                    address: 'Various branch locations in Chesapeake',
                    socialMedia: {
                        facebook: 'https://facebook.com/ChesapeakePublicLibrary'
                    }
                }
            ],
            'Disaster Relief': [
                {
                    name: 'American Red Cross Coastal Virginia Chapter',
                    website: 'https://www.redcross.org/local/virginia/coastal-virginia.html',
                    services: 'Provides disaster relief services including shelter, food, health services, and emotional support after emergencies.',
                    generalType: 'Non-profit Organization',
                    populationType: 'Individuals and families affected by disasters',
                    email: 'info.coastalva@redcross.org',
                    phone: '(757) 446-7700',
                    address: '6090 Newport Cres, Norfolk, VA 23505 (serves Chesapeake)',
                    socialMedia: {
                        facebook: 'https://facebook.com/RedCrossCoastalVA'
                    }
                }
            ],
            'Environmental Health': [
                {
                    name: 'Chesapeake Health Department - Environmental Health Division',
                    website: 'https://www.vdh.virginia.gov/chesapeake/environmental-health/',
                    services: 'Ensures public health through food safety inspections, septic system permits, well water testing, and rabies control.',
                    generalType: 'Government Agency',
                    populationType: 'All Chesapeake residents',
                    email: 'chesapeakehd@vdh.virginia.gov',
                    phone: '(757) 382-8600',
                    address: '748 Battlefield Blvd N, Chesapeake, VA 23320',
                    socialMedia: {}
                },
                {
                    name: 'Elizabeth River Project',
                    website: 'https://elizabethriver.org/',
                    services: 'Works to restore and protect the Elizabeth River through education, conservation, and advocacy.',
                    generalType: 'Non-profit Organization',
                    populationType: 'General public, local communities, environmental enthusiasts',
                    email: 'info@elizabethriver.org',
                    phone: '(757) 399-7487',
                    address: '475 Water St, Portsmouth, VA 23704 (serves Chesapeake)',
                    socialMedia: {
                        facebook: 'https://facebook.com/ElizabethRiverProject'
                    }
                }
            ]
        };

        /**
         * Renders a single organization's details as a list.
         * @param {Object} org - The organization object.
         * @returns {string} - HTML string for the organization details.
         */
        function renderOrganizationDetails(org) {
            let html = `
                <div class="bg-white p-5 rounded-md shadow-sm mb-4 border border-gray-200 text-gray-700">
                    <h4 class="text-xl font-semibold text-gray-800 mb-2">${org.name}</h4> ${org.website ? `<p class="text-sm mb-2"><strong>Website:</strong> <a href="${org.website}" target="_blank" class="text-blue-600 hover:underline">${org.website}</a></p>` : ''}
                    <p class="mb-2"><strong>Services:</strong> ${org.services}</p>
                    <p class="mb-2"><strong>General Type:</strong> ${org.generalType}</p>
                    <p class="mb-2"><strong>Population Served:</strong> ${org.populationType}</p>
                    ${org.email ? `<p class="mb-2"><strong>Email:</strong> <a href="mailto:${org.email}" class="text-blue-600 hover:underline">${org.email}</a></p>` : ''}
                    ${org.phone ? `<p class="mb-2"><strong>Phone:</strong> <a href="tel:${org.phone}" class="text-blue-600 hover:underline">${org.phone}</a></p>` : ''}
                    ${org.address ? `<p class="mb-4"><strong>Address:</strong> ${org.address}</p>` : ''}
            `;

            // Social Media Links
            const socialMediaLinks = Object.keys(org.socialMedia).map(platform => {
                const url = org.socialMedia[platform];
                const icon = {
                    facebook: 'fab fa-facebook',
                    twitter: 'fab fa-twitter',
                    instagram: 'fab fa-instagram',
                    linkedin: 'fab fa-linkedin'
                }[platform] || 'fas fa-globe';

                return `<a href="${url}" target="_blank" class="text-gray-600 hover:text-blue-700 mr-3"><i class="${icon}"></i> ${platform.charAt(0).toUpperCase() + platform.slice(1)}</a>`;
            }).join('');

            if (socialMediaLinks) {
                html += `<p class="mb-4"><strong>Social Media:</strong> ${socialMediaLinks}</p>`;
            }

            html += `</div>`;
            return html;
        }

        /**
         * Renders the entire application UI based on the current state.
         * This function acts as the central rendering mechanism for the single-page application.
         */
        function render() {
            const appContainer = document.getElementById('app-root');
            appContainer.innerHTML = ''; // Clear existing content

            // Check if the current page is the main page.
            if (currentPage === 'main') {
                // Create the main content div with professional styling.
                const mainContentDiv = document.createElement('div');
                // PROFESSIONAL REFORMAT: Clean, elevated appearance with borders
                mainContentDiv.className = 'bg-white p-8 rounded-lg shadow-xl w-full text-center border border-gray-200';

                // Create and append the main title.
                const title = document.createElement('h2');
                title.className = 'text-4xl font-extrabold mb-6 text-gray-800';
                title.textContent = 'Explore Hampton Roads Regions';
                mainContentDiv.appendChild(title);

                // Create and append the descriptive paragraph.
                const description = document.createElement('p');
                description.className = 'text-lg text-gray-700 mb-10 max-w-2xl mx-auto leading-relaxed';
                description.textContent = 'Select a region below to discover essential local services and information. Use the sorting option to organize your search results.';
                mainContentDiv.appendChild(description);

                // Create the filter button.
                const filterButton = document.createElement('button');
                filterButton.className = 'mb-10 px-8 py-3 bg-gray-700 text-white font-semibold rounded-md shadow-md hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-75 transition-colors duration-200 ease-in-out';
                filterButton.textContent = isSorted ? 'Turn Off Alphabetical Sort' : 'Sort Regions Alphabetically';
                filterButton.onclick = () => {
                    isSorted = !isSorted;
                    if (isSorted) {
                        currentButtonData.sort((a, b) => a.title.localeCompare(b.title));
                    } else {
                        currentButtonData = [...originalButtonData];
                    }
                    render();
                };
                mainContentDiv.appendChild(filterButton);

                // Create a grid container for the buttons.
                const buttonsGrid = document.createElement('div');
                buttonsGrid.className = 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6';

                // Iterate over the current button data and create a button for each.
                currentButtonData.forEach(button => {
                    const btnElement = document.createElement('button');
                    btnElement.className = 'p-6 bg-gray-50 border border-gray-200 rounded-lg shadow-sm hover:bg-gray-100 hover:border-gray-400 transition-all duration-200 ease-in-out text-lg font-semibold text-gray-800 text-left flex items-center justify-between focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50';
                    btnElement.onclick = () => {
                        currentPage = button.id;
                        render();
                    };

                    const buttonTextSpan = document.createElement('span');
                    buttonTextSpan.textContent = button.title;
                    btnElement.appendChild(buttonTextSpan);

                    const arrowIcon = document.createElement('span');
                    arrowIcon.className = 'ml-3 text-gray-600';
                    arrowIcon.innerHTML = `
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                        </svg>
                    `;
                    btnElement.appendChild(arrowIcon);

                    buttonsGrid.appendChild(btnElement);
                });

                mainContentDiv.appendChild(buttonsGrid);
                appContainer.appendChild(mainContentDiv);

            } else { // Detail page logic
                const selectedButton = originalButtonData.find(button => button.id === currentPage);

                const detailContentDiv = document.createElement('div');
                detailContentDiv.className = 'bg-white p-8 rounded-lg shadow-xl w-full text-left border border-gray-200';

                const title = document.createElement('h2');
                title.className = 'text-3xl font-extrabold mb-6 text-gray-800 text-center';
                title.textContent = selectedButton ? `${selectedButton.title} Services & Information` : 'Page Not Found';
                detailContentDiv.appendChild(title);

                const backButton = document.createElement('button');
                backButton.className = 'px-5 py-2 bg-gray-200 text-gray-700 font-semibold rounded-md shadow-sm hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-50 transition-colors duration-200 mb-8 inline-flex items-center';
                backButton.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                    </svg>
                    Back to Regions
                `;
                backButton.onclick = () => {
                    currentPage = 'main';
                    render();
                };
                detailContentDiv.appendChild(backButton);

                if (currentPage === 'btn3' && selectedButton.title === 'Chesapeake') {
                    const dropdownContainer = document.createElement('div');
                    dropdownContainer.className = 'mt-6';

                    for (const category in chesapeakeData) {
                        if (chesapeakeData.hasOwnProperty(category)) {
                            const organizations = chesapeakeData[category];

                            const accordionItem = document.createElement('div');
                            accordionItem.className = 'mb-4 bg-gray-50 rounded-lg shadow-sm border border-gray-200';

                            const accordionHeader = document.createElement('button');
                            accordionHeader.className = 'flex justify-between items-center w-full p-4 text-lg font-semibold text-gray-800 bg-gray-100 hover:bg-gray-200 focus:outline-none rounded-t-lg transition-colors duration-200 ease-in-out';
                            accordionHeader.innerHTML = `
                                <span>${category}</span>
                                <svg class="w-5 h-5 text-gray-600 transform transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                                </svg>
                            `;
                            accordionItem.appendChild(accordionHeader);

                            const accordionContent = document.createElement('div');
                            accordionContent.className = 'accordion-content px-4 pb-4';
                            accordionItem.appendChild(accordionContent);

                            if (organizations.length > 0) {
                                organizations.forEach(org => {
                                    accordionContent.innerHTML += renderOrganizationDetails(org);
                                });
                            } else {
                                accordionContent.innerHTML = `<p class="text-gray-600 p-4 italic">No organizations listed under "${category}" at this time. Please check back later.</p>`;
                            }

                            accordionHeader.onclick = () => {
                                accordionContent.classList.toggle('active');
                                const svgIcon = accordionHeader.querySelector('svg');
                                svgIcon.classList.toggle('rotate-180');
                            };

                            dropdownContainer.appendChild(accordionItem);
                        }
                    }
                    detailContentDiv.appendChild(dropdownContainer);

                } else {
                    const description = document.createElement('p');
                    description.className = 'text-lg text-gray-700 mb-10 max-w-2xl mx-auto leading-relaxed text-center';
                    description.textContent = selectedButton ? selectedButton.description : 'The content you are looking for does not exist.';
                    detailContentDiv.appendChild(description);
                }

                appContainer.appendChild(detailContentDiv);
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const fontAwesomeScript = document.createElement('script');
            fontAwesomeScript.src = 'https://kit.fontawesome.com/your-font-awesome-kit-code.js'; // IMPORTANT: REPLACE WITH YOUR ACTUAL FONT AWESOME KIT CODE
            fontAwesomeScript.crossOrigin = 'anonymous';
            document.head.appendChild(fontAwesomeScript);

            currentPage = 'main';
            render();
        });
    </script>
</body>
</html>
